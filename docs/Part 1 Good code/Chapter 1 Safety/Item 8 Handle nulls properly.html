
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Item 8 Handle Nulls Properly · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Item 9 Close resources with use.html" />
    
    
    <link rel="prev" href="Item 7 Prefer null or Failure result when the lack of result is possible.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Part 1 Good Code
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" >
            
                <span>
            
                    
                    Chapter 1 Safety
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1.1" data-path="Introduction.html">
            
                <a href="Introduction.html">
            
                    
                    引言
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.2" data-path="Item 1 Limit mutability.html">
            
                <a href="Item 1 Limit mutability.html">
            
                    
                    Item 1 Limit Mutability
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.3" data-path="Item 2 Minimize the scope of variables.html">
            
                <a href="Item 2 Minimize the scope of variables.html">
            
                    
                    第2条：最小化变量作用域
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.4" data-path="Item 3 Eliminate platform types as soon as possible.html">
            
                <a href="Item 3 Eliminate platform types as soon as possible.html">
            
                    
                    Item 3 Eliminate Platform Types As Soon As Possible
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.5" data-path="Item 4 Do not expose inferred types.html">
            
                <a href="Item 4 Do not expose inferred types.html">
            
                    
                    第4条：不要把推断类型暴露给外部
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.6" data-path="Item 5 Specify your expectations on arguments and state.html">
            
                <a href="Item 5 Specify your expectations on arguments and state.html">
            
                    
                    Item 5 Specify Your Expectations On Arguments And State
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.7" data-path="Item 6 Prefer standard errors to custom ones.html">
            
                <a href="Item 6 Prefer standard errors to custom ones.html">
            
                    
                    第6条：尽可能使用标准库中提供的异常
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.8" data-path="Item 7 Prefer null or Failure result when the lack of result is possible.html">
            
                <a href="Item 7 Prefer null or Failure result when the lack of result is possible.html">
            
                    
                    Item 7 Prefer Null Or Failure Result When The Lack Of Result Is Possible
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.1.9" data-path="Item 8 Handle nulls properly.html">
            
                <a href="Item 8 Handle nulls properly.html">
            
                    
                    Item 8 Handle Nulls Properly
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.10" data-path="Item 9 Close resources with use.html">
            
                <a href="Item 9 Close resources with use.html">
            
                    
                    Item 9 Close Resources With Use
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.11" data-path="Item 10 Write unit tests.html">
            
                <a href="Item 10 Write unit tests.html">
            
                    
                    Item 10 Write Unit Tests
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2" >
            
                <span>
            
                    
                    Chapter 2 Readability
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="../Chapter 2 Readability/Introduction.html">
            
                <a href="../Chapter 2 Readability/Introduction.html">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2" data-path="../Chapter 2 Readability/Item 11 Design for readability.html">
            
                <a href="../Chapter 2 Readability/Item 11 Design for readability.html">
            
                    
                    Item 11 Design For Readability
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.3" data-path="../Chapter 2 Readability/Item 12 Operator meaning should be consistent with its function name.html">
            
                <a href="../Chapter 2 Readability/Item 12 Operator meaning should be consistent with its function name.html">
            
                    
                    Item 12 Operator Meaning Should Be Consistent With Its Function Name
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.4" data-path="../Chapter 2 Readability/Item 13 Avoid returning or operating on Unit?.md">
            
                <span>
            
                    
                    Item 13 Avoid Returning Or Operating On Unit
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.5" data-path="../Chapter 2 Readability/Item 14 Specify the variable type when it is not clear.html">
            
                <a href="../Chapter 2 Readability/Item 14 Specify the variable type when it is not clear.html">
            
                    
                    Item 14 Specify The Variable Type When It Is Not Clear
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.6" data-path="../Chapter 2 Readability/Item 15 Consider referencing receivers explicitly.html">
            
                <a href="../Chapter 2 Readability/Item 15 Consider referencing receivers explicitly.html">
            
                    
                    Item 15 Consider Referencing Receivers Explicitly
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.7" data-path="../Chapter 2 Readability/Item 16 Properties should represent state not behavior.html">
            
                <a href="../Chapter 2 Readability/Item 16 Properties should represent state not behavior.html">
            
                    
                    Item 16 Properties Should Represent State Not Behavior
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.8" data-path="../Chapter 2 Readability/Item 17 Consider naming arguments.html">
            
                <a href="../Chapter 2 Readability/Item 17 Consider naming arguments.html">
            
                    
                    Item 17 Consider Naming Arguments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.9" data-path="../Chapter 2 Readability/Item 18 Respect coding conventions.html">
            
                <a href="../Chapter 2 Readability/Item 18 Respect coding conventions.html">
            
                    
                    Item 18 Respect Coding Conventions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Part 2 Code Design
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" >
            
                <span>
            
                    
                    Chapter 3 Reusability
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="../../Part 2 Code design/Chapter 3 Reusability/Introduction.html">
            
                <a href="../../Part 2 Code design/Chapter 3 Reusability/Introduction.html">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2" data-path="../../Part 2 Code design/Chapter 3 Reusability/Item 19 Do not repeat knowledge.html">
            
                <a href="../../Part 2 Code design/Chapter 3 Reusability/Item 19 Do not repeat knowledge.html">
            
                    
                    Item 19 Do Not Repeat Knowledge
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.3" data-path="../../Part 2 Code design/Chapter 3 Reusability/Item 20 Do not repeat common algorithms.html">
            
                <a href="../../Part 2 Code design/Chapter 3 Reusability/Item 20 Do not repeat common algorithms.html">
            
                    
                    Item 20 Do Not Repeat Common Algorithms
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.4" data-path="../../Part 2 Code design/Chapter 3 Reusability/Item 21 Use property delegation to extract common property patterns.html">
            
                <a href="../../Part 2 Code design/Chapter 3 Reusability/Item 21 Use property delegation to extract common property patterns.html">
            
                    
                    Item 21 Use Property Delegation To Extract Common Property Patterns
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.5" data-path="../../Part 2 Code design/Chapter 3 Reusability/Item 22 Use generics when implementing common algorithms.html">
            
                <a href="../../Part 2 Code design/Chapter 3 Reusability/Item 22 Use generics when implementing common algorithms.html">
            
                    
                    Item 22 Use Generics When Implementing Common Algorithms
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.6" data-path="../../Part 2 Code design/Chapter 3 Reusability/Item 23 Avoid shadowing type parameters.html">
            
                <a href="../../Part 2 Code design/Chapter 3 Reusability/Item 23 Avoid shadowing type parameters.html">
            
                    
                    Item 23 Avoid Shadowing Type Parameters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.7" data-path="../../Part 2 Code design/Chapter 3 Reusability/Item 24 Consider variance for generic types.html">
            
                <a href="../../Part 2 Code design/Chapter 3 Reusability/Item 24 Consider variance for generic types.html">
            
                    
                    Item 24 Consider Variance For Generic Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.8" data-path="../../Part 2 Code design/Chapter 3 Reusability/Item 25 Reuse between different platforms by extracting common modules.html">
            
                <a href="../../Part 2 Code design/Chapter 3 Reusability/Item 25 Reuse between different platforms by extracting common modules.html">
            
                    
                    Item 25 Reuse Between Different Platforms By Extracting Common Modules
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" >
            
                <span>
            
                    
                    Chapter 4 Abstraction Design
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1" data-path="../../Part 2 Code design/Chapter 4 Abstraction design/Introduction.html">
            
                <a href="../../Part 2 Code design/Chapter 4 Abstraction design/Introduction.html">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.2" data-path="../../Part 2 Code design/Chapter 4 Abstraction design/Item 26 Each function should be written in terms of a single level of abstraction.html">
            
                <a href="../../Part 2 Code design/Chapter 4 Abstraction design/Item 26 Each function should be written in terms of a single level of abstraction.html">
            
                    
                    Item 26 Each Function Should Be Written In Terms Of A Single Level Of Abstraction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.3" data-path="../../Part 2 Code design/Chapter 4 Abstraction design/Item 27 Use abstraction to protect code against changes.html">
            
                <a href="../../Part 2 Code design/Chapter 4 Abstraction design/Item 27 Use abstraction to protect code against changes.html">
            
                    
                    Item 27 Use Abstraction To Protect Code Against Changes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.4" data-path="../../Part 2 Code design/Chapter 4 Abstraction design/Item 28 Specify API stability.html">
            
                <a href="../../Part 2 Code design/Chapter 4 Abstraction design/Item 28 Specify API stability.html">
            
                    
                    Item 28 Specify API Stability
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.5" data-path="../../Part 2 Code design/Chapter 4 Abstraction design/Item 29 Consider wrapping external API.html">
            
                <a href="../../Part 2 Code design/Chapter 4 Abstraction design/Item 29 Consider wrapping external API.html">
            
                    
                    Item 29 Consider Wrapping External API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.6" data-path="../../Part 2 Code design/Chapter 4 Abstraction design/Item 30 Minimize elements visibility.html">
            
                <a href="../../Part 2 Code design/Chapter 4 Abstraction design/Item 30 Minimize elements visibility.html">
            
                    
                    Item 30 Minimize Elements Visibility
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.7" data-path="../../Part 2 Code design/Chapter 4 Abstraction design/Item 31 Define contract with documentation.html">
            
                <a href="../../Part 2 Code design/Chapter 4 Abstraction design/Item 31 Define contract with documentation.html">
            
                    
                    Item 31 Define Contract With Documentation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.8" data-path="../../Part 2 Code design/Chapter 4 Abstraction design/Item 32 Respect abstraction contracts.html">
            
                <a href="../../Part 2 Code design/Chapter 4 Abstraction design/Item 32 Respect abstraction contracts.html">
            
                    
                    Item 32 Respect Abstraction Contracts
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.3" >
            
                <span>
            
                    
                    Chapter 5 Object Creation
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.3.1" data-path="../../Part 2 Code design/Chapter 5 Object creation/Introduction.html">
            
                <a href="../../Part 2 Code design/Chapter 5 Object creation/Introduction.html">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.2" data-path="../../Part 2 Code design/Chapter 5 Object creation/Item 33 Consider factory functions instead of constructors.html">
            
                <a href="../../Part 2 Code design/Chapter 5 Object creation/Item 33 Consider factory functions instead of constructors.html">
            
                    
                    Item 33 Consider Factory Functions Instead Of Constructors
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.3" data-path="../../Part 2 Code design/Chapter 5 Object creation/Item 34 Consider a primary constructor with named optional arguments.html">
            
                <a href="../../Part 2 Code design/Chapter 5 Object creation/Item 34 Consider a primary constructor with named optional arguments.html">
            
                    
                    Item 34 Consider A Primary Constructor With Named Optional Arguments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.4" data-path="../../Part 2 Code design/Chapter 5 Object creation/Item 35 Consider defining a DSL for complex object creation.html">
            
                <a href="../../Part 2 Code design/Chapter 5 Object creation/Item 35 Consider defining a DSL for complex object creation.html">
            
                    
                    Item 35 Consider Defining A DSL For Complex Object Creation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.4" >
            
                <span>
            
                    
                    Chapter 6 Class Design
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.4.1" data-path="../../Part 2 Code design/Chapter 6 Class design/Introduction.html">
            
                <a href="../../Part 2 Code design/Chapter 6 Class design/Introduction.html">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.2" data-path="../../Part 2 Code design/Chapter 6 Class design/Item 36 Prefer composition over inheritance.html">
            
                <a href="../../Part 2 Code design/Chapter 6 Class design/Item 36 Prefer composition over inheritance.html">
            
                    
                    Item 36 Prefer Composition Over Inheritance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.3" data-path="../../Part 2 Code design/Chapter 6 Class design/Item 37 Use the data modifier to represent a bundle of data.html">
            
                <a href="../../Part 2 Code design/Chapter 6 Class design/Item 37 Use the data modifier to represent a bundle of data.html">
            
                    
                    Item 37 Use The Data Modifier To Represent A Bundle Of Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.4" data-path="../../Part 2 Code design/Chapter 6 Class design/Item 38 Use function types instead of interfaces to pass operations and actions.html">
            
                <a href="../../Part 2 Code design/Chapter 6 Class design/Item 38 Use function types instead of interfaces to pass operations and actions.html">
            
                    
                    Item 38 Use Function Types Instead Of Interfaces To Pass Operations And Actions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.5" data-path="../../Part 2 Code design/Chapter 6 Class design/Item 39 Prefer class hierarchies to tagged classes.html">
            
                <a href="../../Part 2 Code design/Chapter 6 Class design/Item 39 Prefer class hierarchies to tagged classes.html">
            
                    
                    Item 39 Prefer Class Hierarchies To Tagged Classes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.6" data-path="../../Part 2 Code design/Chapter 6 Class design/Item 40 Respect the contract of  equals.html">
            
                <a href="../../Part 2 Code design/Chapter 6 Class design/Item 40 Respect the contract of  equals.html">
            
                    
                    Item 40 Respect The Contract Of Equals
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.7" data-path="../../Part 2 Code design/Chapter 6 Class design/Item 41 Respect the contract of  hashCode.html">
            
                <a href="../../Part 2 Code design/Chapter 6 Class design/Item 41 Respect the contract of  hashCode.html">
            
                    
                    Item 41 Respect The Contract Of Hash Code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.8" data-path="../../Part 2 Code design/Chapter 6 Class design/Item 42 Respect the contract of compareTo.html">
            
                <a href="../../Part 2 Code design/Chapter 6 Class design/Item 42 Respect the contract of compareTo.html">
            
                    
                    Item 42 Respect The Contract Of Compare To
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.9" data-path="../../Part 2 Code design/Chapter 6 Class design/Item 43 Consider extracting non-essential parts of your API into extensions.html">
            
                <a href="../../Part 2 Code design/Chapter 6 Class design/Item 43 Consider extracting non-essential parts of your API into extensions.html">
            
                    
                    Item 43 Consider Extracting Non Essential Parts Of Your API Into Extensions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.10" data-path="../../Part 2 Code design/Chapter 6 Class design/Item 44 Avoid member extensions.html">
            
                <a href="../../Part 2 Code design/Chapter 6 Class design/Item 44 Avoid member extensions.html">
            
                    
                    Item 44 Avoid Member Extensions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Part 3 Efficiency
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" >
            
                <span>
            
                    
                    Chapter 7 Make It Cheap
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.1" data-path="../../Part 3 Efficiency/Chapter 7 Make it cheap/Introduction.html">
            
                <a href="../../Part 3 Efficiency/Chapter 7 Make it cheap/Introduction.html">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.2" data-path="../../Part 3 Efficiency/Chapter 7 Make it cheap/Item 45 Avoid unnecessary object creation.html">
            
                <a href="../../Part 3 Efficiency/Chapter 7 Make it cheap/Item 45 Avoid unnecessary object creation.html">
            
                    
                    Item 45 Avoid Unnecessary Object Creation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.3" data-path="../../Part 3 Efficiency/Chapter 7 Make it cheap/Item 46 Use inline modifier for functions with parameters of functional types.html">
            
                <a href="../../Part 3 Efficiency/Chapter 7 Make it cheap/Item 46 Use inline modifier for functions with parameters of functional types.html">
            
                    
                    Item 46 Use Inline Modifier For Functions With Parameters Of Functional Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.4" data-path="../../Part 3 Efficiency/Chapter 7 Make it cheap/Item 47 Consider using inline classes.html">
            
                <a href="../../Part 3 Efficiency/Chapter 7 Make it cheap/Item 47 Consider using inline classes.html">
            
                    
                    Item 47 Consider Using Inline Classes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.5" data-path="../../Part 3 Efficiency/Chapter 7 Make it cheap/Item 48 Eliminate obsolete object references.html">
            
                <a href="../../Part 3 Efficiency/Chapter 7 Make it cheap/Item 48 Eliminate obsolete object references.html">
            
                    
                    Item 48 Eliminate Obsolete Object References
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2" >
            
                <span>
            
                    
                    Chapter 8 Efficient Collection Processing
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="../../Part 3 Efficiency/Chapter 8 Efficient collection processing/Introduction.html">
            
                <a href="../../Part 3 Efficiency/Chapter 8 Efficient collection processing/Introduction.html">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.2" data-path="../../Part 3 Efficiency/Chapter 8 Efficient collection processing/Item 49 Prefer Sequence for big collections with more than one processing step.html">
            
                <a href="../../Part 3 Efficiency/Chapter 8 Efficient collection processing/Item 49 Prefer Sequence for big collections with more than one processing step.html">
            
                    
                    Item 49 Prefer Sequence For Big Collections With More Than One Processing Step
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.3" data-path="../../Part 3 Efficiency/Chapter 8 Efficient collection processing/Item 50 Limit the number of operations.html">
            
                <a href="../../Part 3 Efficiency/Chapter 8 Efficient collection processing/Item 50 Limit the number of operations.html">
            
                    
                    Item 50 Limit The Number Of Operations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.4" data-path="../../Part 3 Efficiency/Chapter 8 Efficient collection processing/Item 51 Consider Arrays with primitives for performance-critical processing.html">
            
                <a href="../../Part 3 Efficiency/Chapter 8 Efficient collection processing/Item 51 Consider Arrays with primitives for performance-critical processing.html">
            
                    
                    Item 51 Consider Arrays With Primitives For Performance Critical Processing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.5" data-path="../../Part 3 Efficiency/Chapter 8 Efficient collection processing/Item 52 Consider using mutable collections.html">
            
                <a href="../../Part 3 Efficiency/Chapter 8 Efficient collection processing/Item 52 Consider using mutable collections.html">
            
                    
                    Item 52 Consider Using Mutable Collections
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Item 8 Handle Nulls Properly</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="item-8-handle-nulls-properly">Item 8: Handle nulls properly</h2>
<h2 id="item-8&#x6B63;&#x786E;&#x5904;&#x7406;&#x7A7A;&#x503C;">Item 8:&#x6B63;&#x786E;&#x5904;&#x7406;&#x7A7A;&#x503C;</h2>
<p><code>null</code> means a lack of value. For property, it might mean that the value was not set or that it was removed. When a function returns <code>null</code> it might have a different meaning depending on the function:</p>
<p>&apos; null &apos;&#x8868;&#x793A;&#x7F3A;&#x4E4F;&#x4EF7;&#x503C;&#x3002;&#x5BF9;&#x4E8E;&#x5C5E;&#x6027;&#xFF0C;&#x5B83;&#x53EF;&#x80FD;&#x610F;&#x5473;&#x7740;&#x8BE5;&#x503C;&#x672A;&#x8BBE;&#x7F6E;&#x6216;&#x5DF2;&#x5220;&#x9664;&#x3002;&#x5F53;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&apos; null &apos;&#x65F6;&#xFF0C;&#x6839;&#x636E;&#x51FD;&#x6570;&#x7684;&#x4E0D;&#x540C;&#xFF0C;&#x5B83;&#x53EF;&#x80FD;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x542B;&#x4E49;:</p>
<ul>
<li><code>String.toIntOrNull()</code> returns <code>null</code> when <code>String</code> cannot be correctly parsed to <code>Int</code></li>
<li><ul>
<li>&apos; String. tointornull() &apos;&#x8FD4;&#x56DE;&apos; null &apos;&#x5F53;&apos; String &apos;&#x4E0D;&#x80FD;&#x88AB;&#x6B63;&#x786E;&#x89E3;&#x6790;&#x4E3A;&apos; Int &apos;</li>
</ul>
</li>
<li><code>Iterable&lt;T&gt;.firstOrNull(() -&gt; Boolean)</code> returns <code>null</code> when there are no elements matching predicate from the argument. </li>
<li>&apos; Iterable<t>. firstnull (() -&gt; Boolean) &apos;&#x5F53;&#x53C2;&#x6570;&#x4E2D;&#x6CA1;&#x6709;&#x5339;&#x914D;&#x8C13;&#x8BCD;&#x7684;&#x5143;&#x7D20;&#x65F6;&#x8FD4;&#x56DE;&apos; null &apos;&#x3002;</t></li>
</ul>
<p><strong>In these and all other cases the meaning of <code>null</code> should be as clear as possible.</strong> This is because nullable values must be handled, and it is the API user (programmer using API element) who needs to decide how it is to be handled. 
<strong>&#x5728;&#x8FD9;&#x4E9B;&#x60C5;&#x51B5;&#x548C;&#x6240;&#x6709;&#x5176;&#x4ED6;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x201C;null&#x201D;&#x7684;&#x542B;&#x4E49;&#x5E94;&#x8BE5;&#x5C3D;&#x53EF;&#x80FD;&#x6E05;&#x695A;&#x3002;</strong>&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x53EF;&#x7A7A;&#x503C;&#x5FC5;&#x987B;&#x88AB;&#x5904;&#x7406;&#xFF0C;&#x800C;API&#x7528;&#x6237;(&#x4F7F;&#x7528;API&#x5143;&#x7D20;&#x7684;&#x7A0B;&#x5E8F;&#x5458;)&#x9700;&#x8981;&#x51B3;&#x5B9A;&#x5982;&#x4F55;&#x5904;&#x7406;&#x5B83;&#x3002;</p>
<pre><code class="lang-kotlin"><span class="hljs-variable"><span class="hljs-keyword">val</span> printer</span>: Printer? = getPrinter()
printer.print() <span class="hljs-comment">// Compilation Error</span>

printer?.print() <span class="hljs-comment">// Safe call</span>
<span class="hljs-keyword">if</span> (printer != <span class="hljs-literal">null</span>) printer.print() <span class="hljs-comment">// Smart casting</span>
printer!!.print() <span class="hljs-comment">// Not-null assertion</span>
</code></pre>
<p>In general, there are 3 ways of how nullable types can be handled. We can:
&#x4E00;&#x822C;&#x6765;&#x8BF4;&#xFF0C;&#x6709;&#x4E09;&#x79CD;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x53EF;&#x4E3A;&#x7A7A;&#x7684;&#x7C7B;&#x578B;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;:</p>
<ul>
<li>Handling nullability safely using safe call <code>?.</code>, smart casting, Elvis operator, etc.</li>
<li>-&#x4F7F;&#x7528;safe call &apos; ?&#x5B89;&#x5168;&#x5904;&#x7406;&#x53EF;&#x7A7A;&#x6027;&#x3002;&#x2019;&#x3001;&#x667A;&#x80FD;&#x8F6C;&#x6362;&#x3001;Elvis&#x64CD;&#x4F5C;&#x7B26;&#x7B49;&#x3002;</li>
<li>Throw an error</li>
<li>&#x629B;&#x51FA;&#x9519;&#x8BEF;</li>
<li>Refactor this function or property so that it won&#x2019;t be nullable</li>
<li>&#x91CD;&#x6784;&#x6B64;&#x51FD;&#x6570;&#x6216;&#x5C5E;&#x6027;&#xFF0C;&#x4F7F;&#x5176;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A;</li>
</ul>
<p>Let&#x2019;s describe them one by one.
&#x8BA9;&#x6211;&#x4EEC;&#x4E00;&#x4E2A;&#x4E00;&#x4E2A;&#x5730;&#x63CF;&#x8FF0;&#x5B83;&#x4EEC;&#x3002;</p>
<h3 id="handling-nulls-safely">Handling nulls safely</h3>
<h3 id="&#x5B89;&#x5168;&#x5904;&#x7406;&#x7A7A;&#x503C;">&#x5B89;&#x5168;&#x5904;&#x7406;&#x7A7A;&#x503C;</h3>
<p>As mentioned before, the two safest and most popular ways to handle nulls is by using safe call and smart casting:
&#x5982;&#x524D;&#x6240;&#x8FF0;&#xFF0C;&#x5904;&#x7406;null&#x7684;&#x4E24;&#x79CD;&#x6700;&#x5B89;&#x5168;&#x3001;&#x6700;&#x6D41;&#x884C;&#x7684;&#x65B9;&#x6CD5;&#x662F;&#x4F7F;&#x7528;&#x5B89;&#x5168;&#x8C03;&#x7528;&#x548C;&#x667A;&#x80FD;&#x7C7B;&#x578B;&#x8F6C;&#x6362;:</p>
<pre><code class="lang-kotlin">printer?.print() <span class="hljs-comment">// Safe call</span>
<span class="hljs-keyword">if</span> (printer != <span class="hljs-literal">null</span>) printer.print() <span class="hljs-comment">// Smart casting</span>
</code></pre>
<p>In both those cases, the function <code>print</code> will be called only when <code>printer</code> is not <code>null</code>. This is the safest option from the application user point of view. It is also really comfortable for programmers. No wonder why this is generally the most popular way how we handle nullable values. 
&#x5728;&#x8FD9;&#x4E24;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x53EA;&#x6709;&#x5F53;&apos; printer &apos;&#x4E0D;&#x662F;&apos; null &apos;&#x65F6;&#xFF0C;&#x51FD;&#x6570;&apos; print &apos;&#x624D;&#x4F1A;&#x88AB;&#x8C03;&#x7528;&#x3002;&#x4ECE;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7528;&#x6237;&#x7684;&#x89D2;&#x5EA6;&#x6765;&#x770B;&#xFF0C;&#x8FD9;&#x662F;&#x6700;&#x5B89;&#x5168;&#x7684;&#x9009;&#x9879;&#x3002;&#x5B83;&#x5BF9;&#x7A0B;&#x5E8F;&#x5458;&#x6765;&#x8BF4;&#x4E5F;&#x975E;&#x5E38;&#x8212;&#x9002;&#x3002;&#x96BE;&#x602A;&#x8FD9;&#x901A;&#x5E38;&#x662F;&#x5904;&#x7406;&#x53EF;&#x7A7A;&#x503C;&#x7684;&#x6700;&#x6D41;&#x884C;&#x7684;&#x65B9;&#x5F0F;&#x3002;</p>
<p>Support for handling nullable variables in Kotlin is much wider than in other languages. One popular practice is to use the Elvis operator which provides a default value for a nullable type. It allows any expression including <code>return</code> and <code>throw</code> on its right side:</p>
<p>Kotlin&#x5BF9;&#x5904;&#x7406;&#x53EF;&#x7A7A;&#x53D8;&#x91CF;&#x7684;&#x652F;&#x6301;&#x6BD4;&#x5176;&#x4ED6;&#x8BED;&#x8A00;&#x8981;&#x5E7F;&#x6CDB;&#x5F97;&#x591A;&#x3002;&#x4E00;&#x79CD;&#x6D41;&#x884C;&#x7684;&#x505A;&#x6CD5;&#x662F;&#x4F7F;&#x7528;Elvis&#x64CD;&#x4F5C;&#x7B26;&#xFF0C;&#x5B83;&#x4E3A;&#x53EF;&#x7A7A;&#x7C7B;&#x578B;&#x63D0;&#x4F9B;&#x9ED8;&#x8BA4;&#x503C;&#x3002;&#x5B83;&#x5141;&#x8BB8;&#x4EFB;&#x4F55;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x5305;&#x62EC;&apos; return &apos;&#x548C;&apos; throw &apos;&#x5728;&#x5176;&#x53F3;&#x4FA7;:</p>
<pre><code class="lang-kotlin"><span class="hljs-variable"><span class="hljs-keyword">val</span> printerName1</span> = printer?.name ?: <span class="hljs-string">&quot;Unnamed&quot;</span>
<span class="hljs-variable"><span class="hljs-keyword">val</span> printerName2</span> = printer?.name ?: <span class="hljs-keyword">return</span>
<span class="hljs-variable"><span class="hljs-keyword">val</span> printerName3</span> = printer?.name ?: 
    <span class="hljs-keyword">throw</span> Error(<span class="hljs-string">&quot;Printer must be named&quot;</span>)
</code></pre>
<p>Many objects have additional support. For instance, as it is common to ask for an empty collection instead of <code>null</code>, there is <code>orEmpty</code> extension function on <code>Collection&lt;T&gt;?</code> returning not-nullable <code>List&lt;T&gt;</code>. There is also a similar function for <code>String?</code>.
&#x8BB8;&#x591A;&#x7269;&#x4F53;&#x6709;&#x989D;&#x5916;&#x7684;&#x652F;&#x6301;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x662F;&#x5E38;&#x89C1;&#x7684;&#x8981;&#x6C42;&#x4E00;&#x4E2A;&#x7A7A;&#x96C6;&#x5408;&#x800C;&#x4E0D;&#x662F;&apos; null &apos;&#xFF0C;&#x6709;&apos; orEmpty &apos;&#x6269;&#x5C55;&#x51FD;&#x6570;&#x7684;&apos;&#x96C6;&#x5408;<t>?&apos;&#x8FD4;&#x56DE;&#x975E;&#x7A7A;&apos; List<t> &apos;&#x3002;&#x5BF9;&#x4E8E;&apos; String? &apos;&#x4E5F;&#x6709;&#x4E00;&#x4E2A;&#x7C7B;&#x4F3C;&#x7684;&#x51FD;&#x6570;&#x3002;</t></t></p>
<p>Smart casting is also supported by Kotlin&#x2019;s contracts feature that lets us smart cast in a function:
Kotlin&#x7684;&#x5408;&#x7EA6;&#x7279;&#x6027;&#x4E5F;&#x652F;&#x6301;&#x667A;&#x80FD;&#x8F6C;&#x6362;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x51FD;&#x6570;&#x4E2D;&#x8FDB;&#x884C;&#x667A;&#x80FD;&#x8F6C;&#x6362;:</p>
<pre><code class="lang-kotlin">println(<span class="hljs-string">&quot;What is your name?&quot;</span>)
<span class="hljs-variable"><span class="hljs-keyword">val</span> name</span> = readLine()
<span class="hljs-keyword">if</span> (!name.isNullOrBlank()) {
   println(<span class="hljs-string">&quot;Hello ${name.toUpperCase()}&quot;</span>)
}

<span class="hljs-variable"><span class="hljs-keyword">val</span> news</span>: List<span class="hljs-type">&lt;News&gt;</span>? = getNews()
<span class="hljs-keyword">if</span> (!news.isNullOrEmpty()) {
   news.forEach { notifyUser(it) }
}
</code></pre>
<p>All those options should be known to Kotlin developers, and they all provide useful ways to handle nullability properly. 
Kotlin&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x5E94;&#x8BE5;&#x77E5;&#x9053;&#x6240;&#x6709;&#x8FD9;&#x4E9B;&#x9009;&#x9879;&#xFF0C;&#x5B83;&#x4EEC;&#x90FD;&#x63D0;&#x4F9B;&#x4E86;&#x6B63;&#x786E;&#x5904;&#x7406;&#x53EF;&#x7A7A;&#x6027;&#x7684;&#x6709;&#x7528;&#x65B9;&#x6CD5;&#x3002;</p>
<h3 id="defensive-and-offensive-programming">Defensive and offensive programming</h3>
<h3 id="&#x9632;&#x5B88;&#x548C;&#x8FDB;&#x653B;&#x7F16;&#x7A0B;">&#x9632;&#x5B88;&#x548C;&#x8FDB;&#x653B;&#x7F16;&#x7A0B;</h3>
<p>Handling all possibilities in a correct way - like here not using <code>printer</code> when it is <code>null</code> - is an implementation of <em>defensive programming</em>. <em>Defensive programming</em> is a blanket term for various practices increasing code stability once the code is in production, often by defending against the currently impossible. It is the best way when there is a correct way to handle all possible situations. It wouldn&#x2019;t be correct if we would expect that <code>printer</code> is not <code>null</code> and should be used. In such a case it would be impossible to handle such a situation safely, and we should instead use a technique called <em>offensive programming</em>. 
&#x4EE5;&#x6B63;&#x786E;&#x7684;&#x65B9;&#x5F0F;&#x5904;&#x7406;&#x6240;&#x6709;&#x7684;&#x53EF;&#x80FD;&#x6027;&#x2014;&#x2014;&#x6BD4;&#x5982;&#x8FD9;&#x91CC;&#x5F53;&#x5B83;&#x662F;&#x201C;null&#x201D;&#x65F6;&#x4E0D;&#x4F7F;&#x7528;&#x201C;printer&#x201D;&#x2014;&#x2014;&#x662F;&#x4E00;&#x79CD;<em>&#x9632;&#x5FA1;&#x6027;&#x7F16;&#x7A0B;</em>&#x7684;&#x5B9E;&#x73B0;&#x3002;&#x9632;&#x5FA1;&#x578B;&#x7F16;&#x7A0B;&#x662F;&#x4E00;&#x4E2A;&#x7B3C;&#x7EDF;&#x7684;&#x672F;&#x8BED;&#xFF0C;&#x7528;&#x4E8E;&#x5728;&#x4EE3;&#x7801;&#x6295;&#x5165;&#x751F;&#x4EA7;&#x540E;&#x63D0;&#x9AD8;&#x4EE3;&#x7801;&#x7A33;&#x5B9A;&#x6027;&#x7684;&#x5404;&#x79CD;&#x5B9E;&#x8DF5;&#xFF0C;&#x901A;&#x5E38;&#x662F;&#x901A;&#x8FC7;&#x9632;&#x5FA1;&#x5F53;&#x524D;&#x4E0D;&#x53EF;&#x80FD;&#x5B9E;&#x73B0;&#x7684;&#x4E1C;&#x897F;&#x3002;&#x5F53;&#x6709;&#x4E00;&#x4E2A;&#x6B63;&#x786E;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x5904;&#x7406;&#x6240;&#x6709;&#x53EF;&#x80FD;&#x7684;&#x60C5;&#x51B5;&#x65F6;&#xFF0C;&#x8FD9;&#x662F;&#x6700;&#x597D;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x671F;&#x671B;&apos; printer &apos;&#x4E0D;&#x662F;&apos; null &apos;&#x800C;&#x5E94;&#x8BE5;&#x88AB;&#x4F7F;&#x7528;&#xFF0C;&#x90A3;&#x662F;&#x4E0D;&#x6B63;&#x786E;&#x7684;&#x3002;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5B89;&#x5168;&#x5904;&#x7406;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x662F;&#x4E0D;&#x53EF;&#x80FD;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;&#x5192;&#x72AF;&#x6027;&#x7F16;&#x7A0B;
The idea behind <em>offensive programming</em> is that in case of an unexpected situation we complain about it loudly to inform the developer who led to such situation, and to force him or her to correct it. A direct implementation of this idea is <code>require</code>, <code>check</code>and <code>assert</code> presented in Item 5: Specify your expectations on arguments and state. It is important to understand that even though those two modes seem like being in conflict, they are not at all. They are more like yin and yang. Those are different modes both needed in our programs for the sake of safety, and we need to understand them both and use them appropriately. 
&#x201C;&#x5192;&#x72AF;&#x6027;&#x7F16;&#x7A0B;&#x201D;&#x80CC;&#x540E;&#x7684;&#x7406;&#x5FF5;&#x662F;&#xFF0C;&#x5728;&#x53D1;&#x751F;&#x610F;&#x5916;&#x60C5;&#x51B5;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x4F1A;&#x5927;&#x58F0;&#x62B1;&#x6028;&#xFF0C;&#x5E76;&#x901A;&#x77E5;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x662F;&#x8C01;&#x5BFC;&#x81F4;&#x4E86;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x5E76;&#x8FEB;&#x4F7F;&#x4ED6;&#x6216;&#x5979;&#x6539;&#x6B63;&#x3002;&#x8FD9;&#x4E2A;&#x60F3;&#x6CD5;&#x7684;&#x4E00;&#x4E2A;&#x76F4;&#x63A5;&#x5B9E;&#x73B0;&#x662F;&#x201C;require&#x201D;&#x3001;&#x201C;check&#x201D;&#x548C;&#x201C;assert&#x201D;&#xFF0C;&#x89C1;&#x7B2C;5&#x9879;:&#x6307;&#x5B9A;&#x4F60;&#x5BF9;&#x53C2;&#x6570;&#x548C;&#x72B6;&#x6001;&#x7684;&#x671F;&#x671B;&#x3002;&#x91CD;&#x8981;&#x7684;&#x662F;&#x8981;&#x7406;&#x89E3;&#xFF0C;&#x5C3D;&#x7BA1;&#x8FD9;&#x4E24;&#x79CD;&#x6A21;&#x5F0F;&#x770B;&#x8D77;&#x6765;&#x662F;&#x51B2;&#x7A81;&#x7684;&#xFF0C;&#x4F46;&#x5B83;&#x4EEC;&#x5176;&#x5B9E;&#x5E76;&#x4E0D;&#x51B2;&#x7A81;&#x3002;&#x5B83;&#x4EEC;&#x66F4;&#x50CF;&#x662F;&#x9634;&#x9633;&#x3002;&#x8FD9;&#x4E9B;&#x4E0D;&#x540C;&#x7684;&#x6A21;&#x5F0F;&#x5728;&#x6211;&#x4EEC;&#x7684;&#x7A0B;&#x5E8F;&#x4E2D;&#x90FD;&#x662F;&#x9700;&#x8981;&#x7684;&#xFF0C;&#x4E3A;&#x4E86;&#x5B89;&#x5168;&#x8D77;&#x89C1;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4E86;&#x89E3;&#x5B83;&#x4EEC;</p>
<h3 id="throw-an-error">Throw an error</h3>
<h3 id="&#x629B;&#x51FA;&#x9519;&#x8BEF;">&#x629B;&#x51FA;&#x9519;&#x8BEF;</h3>
<p>One problem with safe handling is that if <code>printer</code> could sometimes be <code>null</code>, we will not be informed about it but instead <code>print</code> won&#x2019;t be called. This way we might have hidden important information. If we are expecting <code>printer</code> to never be <code>null</code>, we will be surprised when the <code>print</code> method isn&#x2019;t called. This can lead to errors that are really hard to find. When we have a strong expectation about something that isn&#x2019;t met, it is better to throw an error to inform the programmer about the unexpected situation. It can be done using <code>throw</code>, as well as by using the not-null assertion <code>!!</code>, <code>requireNotNull</code>, <code>checkNotNull</code>, or other error throwing functions:
&#x5982;&#x679C;&#x6211;&#x4EEC;&#x671F;&#x671B;&apos; printer &apos;&#x6C38;&#x8FDC;&#x4E0D;&#x4E3A;&apos; null &apos;&#xFF0C;&#x90A3;&#x4E48;&#x5F53;&apos; print &apos;&#x65B9;&#x6CD5;&#x6CA1;&#x6709;&#x88AB;&#x8C03;&#x7528;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x4F1A;&#x611F;&#x5230;&#x60CA;&#x8BB6;&#x3002;&#x8FD9;&#x53EF;&#x80FD;&#x4F1A;&#x5BFC;&#x81F4;&#x975E;&#x5E38;&#x96BE;&#x4EE5;&#x53D1;&#x73B0;&#x7684;&#x9519;&#x8BEF;&#x3002;&#x5F53;&#x6211;&#x4EEC;&#x5BF9;&#x4E00;&#x4E9B;&#x6CA1;&#x6709;&#x5F97;&#x5230;&#x6EE1;&#x8DB3;&#x7684;&#x4E8B;&#x60C5;&#x6709;&#x5F3A;&#x70C8;&#x7684;&#x671F;&#x671B;&#x65F6;&#xFF0C;&#x6700;&#x597D;&#x629B;&#x51FA;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#x6765;&#x901A;&#x77E5;&#x7A0B;&#x5E8F;&#x5458;&#x8FD9;&#x4E2A;&#x610F;&#x5916;&#x7684;&#x60C5;&#x51B5;&#x3002;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&apos; throw &apos;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x975E;&#x7A7A;&#x65AD;&#x8A00;&apos; !!&apos;&#xFF0C; &apos; requireNotNull &apos;&#xFF0C; &apos; checkNotNull &apos;&#xFF0C;&#x6216;&#x5176;&#x4ED6;&#x629B;&#x51FA;&#x9519;&#x8BEF;&#x7684;&#x51FD;&#x6570;:</p>
<pre><code class="lang-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">process</span><span class="hljs-params">(user: <span class="hljs-type">User</span>)</span> {</span>
    requireNotNull(user.name)
    <span class="hljs-variable"><span class="hljs-keyword">val</span> context</span> = checkNotNull(context)
    <span class="hljs-variable"><span class="hljs-keyword">val</span> networkService</span> = 
        getNetworkService(context) ?: 
        <span class="hljs-keyword">throw</span> NoInternetConnection()
    networkService.getData { data, userData -&gt;
        show(data!!, userData!!)
    }
}
</code></pre>
<h3 id="the-problems-with-the-not-null-assertion-">The problems with the not-null assertion <code>!!</code></h3>
<h3 id="&#x975E;&#x7A7A;&#x65AD;&#x8A00;&#x7684;&#x95EE;&#x9898;">&#x975E;&#x7A7A;&#x65AD;&#x8A00;&#x7684;&#x95EE;&#x9898;!!</h3>
<p>The simplest way to handle nullable is by using not-null assertion <code>!!</code>. It is conceptually similar to what happens in Java - we think something is not <code>null</code> and if we are wrong, an NPE is thrown. <strong>Not-null assertion <code>!!</code> is a lazy option. It throws a generic exception that explains nothing. It is also short and simple, which also makes it easy to abuse or misuse.</strong> Not-null assertion <code>!!</code> is often used in situations where type is nullable but <code>null</code> is not expected. The problem is that even if it currently is not expected, it almost always can be in the future, and this operator only quietly hides the nullability.
&#x5904;&#x7406;nullable&#x6700;&#x7B80;&#x5355;&#x7684;&#x65B9;&#x6CD5;&#x662F;&#x4F7F;&#x7528;&#x975E;&#x7A7A;&#x65AD;&#x8A00;&apos; !! &apos;&#x3002;&#x5B83;&#x5728;&#x6982;&#x5FF5;&#x4E0A;&#x7C7B;&#x4F3C;&#x4E8E;Java&#x4E2D;&#x7684;&#x60C5;&#x51B5;&#x2014;&#x2014;&#x6211;&#x4EEC;&#x8BA4;&#x4E3A;&#x67D0;&#x4E9B;&#x4E1C;&#x897F;&#x4E0D;&#x662F;&#x201C;&#x7A7A;&#x201D;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x9519;&#x4E86;&#xFF0C;&#x5C31;&#x4F1A;&#x629B;&#x51FA;&#x4E00;&#x4E2A;NPE&#x3002;<strong>&#x8FC7;&#x7684;&#x975E;null&#x7684;&#x65AD;&#x8A00;&#x201D;! !&#x2019;&#x662F;&#x4E00;&#x4E2A;&#x61D2;&#x60F0;&#x7684;&#x9009;&#x62E9;&#x3002;&#x5B83;&#x4F1A;&#x629B;&#x51FA;&#x4E00;&#x4E2A;&#x65E0;&#x6CD5;&#x89E3;&#x91CA;&#x4EFB;&#x4F55;&#x95EE;&#x9898;&#x7684;&#x6CDB;&#x578B;&#x5F02;&#x5E38;&#x3002;&#x5B83;&#x4E5F;&#x5F88;&#x7B80;&#x77ED;&#xFF0C;&#x8FD9;&#x4E5F;&#x4F7F;&#x5F97;&#x5B83;&#x5F88;&#x5BB9;&#x6613;&#x88AB;&#x6EE5;&#x7528;&#x6216;&#x8BEF;&#x7528;&#x3002;</strong>&#x975E;&#x7A7A;&#x65AD;&#x8A00;&apos; !!&apos;&#x901A;&#x5E38;&#x7528;&#x4E8E;type&#x4E3A;&#x7A7A;&#x4F46;&#x4E0D;&#x9700;&#x8981;&apos; null &apos;&#x7684;&#x60C5;&#x51B5;&#x3002;&#x95EE;&#x9898;&#x662F;&#xFF0C;&#x5373;&#x4F7F;&#x5F53;&#x524D;&#x6CA1;&#x6709;&#x9884;&#x671F;&#x5230;&#x5B83;&#xFF0C;&#x5B83;&#x51E0;&#x4E4E;&#x603B;&#x662F;&#x53EF;&#x4EE5;&#x5728;&#x5C06;&#x6765;&#x51FA;&#x73B0;&#xFF0C;&#x5E76;&#x4E14;&#x8FD9;&#x4E2A;&#x64CD;&#x4F5C;&#x7B26;&#x53EA;&#x662F;&#x6084;&#x6084;&#x5730;&#x9690;&#x85CF;&#x4E86;&#x53EF;&#x7A7A;&#x6027;&#x3002;</p>
<p>A very simple example is a function looking for the largest among 4 arguments<a href="chap65.xhtml#fn-maxOf">9</a>. Let&#x2019;s say that we decided to implement it by packing all those arguments into a list and then using <code>max</code> to find the biggest one. The problem is that it returns nullable because it returns <code>null</code>when the collection is empty. Though developer knowing that this list cannot be empty will likely use not-null assertion <code>!!</code>:
&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x7B80;&#x5355;&#x7684;&#x4F8B;&#x5B50;&#x662F;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x5B83;&#x5728;4&#x4E2A;&#x53C2;&#x6570;[9]&#x4E2D;&#x5BFB;&#x627E;&#x6700;&#x5927;&#x7684;&#x4E00;&#x4E2A;&#x3002;&#x5047;&#x8BBE;&#x6211;&#x4EEC;&#x51B3;&#x5B9A;&#x5C06;&#x6240;&#x6709;&#x8FD9;&#x4E9B;&#x53C2;&#x6570;&#x6253;&#x5305;&#x5230;&#x4E00;&#x4E2A;&#x5217;&#x8868;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528;&apos; max &apos;&#x6765;&#x627E;&#x5230;&#x6700;&#x5927;&#x7684;&#x4E00;&#x4E2A;&#x3002;&#x95EE;&#x9898;&#x662F;&#xFF0C;&#x5B83;&#x8FD4;&#x56DE;nullable&#xFF0C;&#x56E0;&#x4E3A;&#x5F53;&#x96C6;&#x5408;&#x4E3A;&#x7A7A;&#x65F6;&#xFF0C;&#x5B83;&#x8FD4;&#x56DE;&apos; null &apos;&#x3002;&#x5C3D;&#x7BA1;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x77E5;&#x9053;&#x8FD9;&#x4E2A;&#x5217;&#x8868;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A;&#xFF0C;&#x4F46;&#x4ED6;&#x4EEC;&#x53EF;&#x80FD;&#x4F1A;&#x4F7F;&#x7528;&#x975E;&#x7A7A;&#x65AD;&#x8A00;&apos; !!&#x201D;:</p>
<pre><code class="lang-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">largestOf</span><span class="hljs-params">(a: <span class="hljs-type">Int, b: Int, c: Int, d: Int</span>)</span>: <span class="hljs-keyword">Int</span> =</span>
   listOf(a, b, c, d).max()!!
</code></pre>
<p>As it was shown to me by M&#xE1;rton Braun who is a reviewer of this book, even in such a simple function not-null assertion <code>!!</code> can lead to NPE. Someone might need to refactor this function to accept any number of arguments and miss the fact that collection cannot be empty:
&#x6B63;&#x5982;&#x8FD9;&#x672C;&#x4E66;&#x7684;&#x4E00;&#x4E2A;&#x8BC4;&#x8BBA;&#x5BB6;M&#xE1;rton Braun&#x5411;&#x6211;&#x5C55;&#x793A;&#x7684;&#x90A3;&#x6837;&#xFF0C;&#x5373;&#x4F7F;&#x662F;&#x5728;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x51FD;&#x6570;&#x975E;&#x7A7A;&#x65AD;&#x8A00;&apos; !!&#x4F1A;&#x5BFC;&#x81F4;NPE&#x3002;&#x6709;&#x4EBA;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x91CD;&#x6784;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x6765;&#x63A5;&#x53D7;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;&#x5B9E;&#x53C2;&#xFF0C;&#x800C;&#x5FFD;&#x7565;&#x4E86;&#x96C6;&#x5408;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A;&#x7684;&#x4E8B;&#x5B9E;:</p>
<pre><code class="lang-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">largestOf</span><span class="hljs-params">(vararg nums: <span class="hljs-type">Int</span>)</span>: <span class="hljs-keyword">Int</span> =</span>
   nums.max()!!

largestOf() <span class="hljs-comment">// NPE</span>
</code></pre>
<p>Information about nullability was silenced and it can be easily missed when it might be important. Similarly with variables. Let&#x2019;s say that you have a variable that needs to be set later but it will surely be set before the first use. Setting it to <code>null</code> and using a not-null assertion <code>!!</code> is not a good option:
&#x6709;&#x5173;&#x53EF;&#x7A7A;&#x6027;&#x7684;&#x4FE1;&#x606F;&#x88AB;&#x5C4F;&#x853D;&#x4E86;&#xFF0C;&#x5F53;&#x5B83;&#x53EF;&#x80FD;&#x5F88;&#x91CD;&#x8981;&#x65F6;&#xFF0C;&#x5F88;&#x5BB9;&#x6613;&#x88AB;&#x5FFD;&#x7565;&#x3002;&#x540C;&#x6837;&#x4E0E;&#x53D8;&#x91CF;&#x3002;&#x5047;&#x8BBE;&#x60A8;&#x6709;&#x4E00;&#x4E2A;&#x9700;&#x8981;&#x7A0D;&#x540E;&#x8BBE;&#x7F6E;&#x7684;&#x53D8;&#x91CF;&#xFF0C;&#x4F46;&#x5B83;&#x80AF;&#x5B9A;&#x4F1A;&#x5728;&#x7B2C;&#x4E00;&#x6B21;&#x4F7F;&#x7528;&#x4E4B;&#x524D;&#x8BBE;&#x7F6E;&#x3002;&#x5C06;&#x5B83;&#x8BBE;&#x7F6E;&#x4E3A;&apos; null &apos;&#x5E76;&#x4F7F;&#x7528;&#x975E;null&#x65AD;&#x8A00;&apos; !!&#x5E76;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x597D;&#x7684;&#x9009;&#x62E9;:</p>
<pre><code class="lang-kotlin"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserControllerTest</span> </span>{

    <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-keyword">var</span> dao</span>: UserDao? = <span class="hljs-literal">null</span>
    <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-keyword">var</span> controller</span>: UserController? = <span class="hljs-literal">null</span>

    @BeforeEach
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">init</span><span class="hljs-params">()</span> {</span>
        dao = mockk()
        controller = UserController(dao!!)
    }

    @Test
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">test</span><span class="hljs-params">()</span> {</span>
        controller!!.doSomething()
    }

}
</code></pre>
<p>It is not only annoying that we need to unpack those properties every time, but we also block the possibility for those properties to actually have a meaningful <code>null</code> in the future. Later in this item, we will see that the correct way to handle such situations is to use <code>lateinit</code> or <code>Delegates.notNull</code>.
&#x6BCF;&#x6B21;&#x90FD;&#x9700;&#x8981;&#x89E3;&#x5305;&#x8FD9;&#x4E9B;&#x5C5E;&#x6027;&#xFF0C;&#x8FD9;&#x4E0D;&#x4EC5;&#x5F88;&#x70E6;&#x4EBA;&#xFF0C;&#x800C;&#x4E14;&#x6211;&#x4EEC;&#x8FD8;&#x963B;&#x6B62;&#x4E86;&#x8FD9;&#x4E9B;&#x5C5E;&#x6027;&#x5728;&#x5C06;&#x6765;&#x5B9E;&#x9645;&#x5177;&#x6709;&#x6709;&#x610F;&#x4E49;&#x7684;&#x2018;null&#x2019;&#x7684;&#x53EF;&#x80FD;&#x6027;&#x3002;</p>
<p><strong>Nobody can predict how code will evolve in the future, and if you use not-null assertion <code>!!</code> or explicit error throw, you should assume that it will throw an error one day.</strong> Exceptions are thrown to indicate something unexpected and incorrect (Item 7: Prefer null or a sealed result class result when the lack of result is possible). However, <strong>explicit errors say much more than generic NPE and they should be nearly always preferred</strong>.</p>
<p><strong>&#x6CA1;&#x6709;&#x4EBA;&#x80FD;&#x9884;&#x6D4B;&#x4EE3;&#x7801;&#x5728;&#x672A;&#x6765;&#x4F1A;&#x5982;&#x4F55;&#x53D1;&#x5C55;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x4F7F;&#x7528;&#x975E;&#x7A7A;&#x65AD;&#x8A00;&apos; !!&#x6216;&#x663E;&#x5F0F;&#x7684;&#x9519;&#x8BEF;&#x629B;&#x51FA;&#xFF0C;&#x60A8;&#x5E94;&#x8BE5;&#x5047;&#x5B9A;&#x5B83;&#x6709;&#x4E00;&#x5929;&#x4F1A;&#x629B;&#x51FA;&#x9519;&#x8BEF;&#x3002;</strong>&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x6765;&#x8868;&#x793A;&#x610F;&#x5916;&#x548C;&#x4E0D;&#x6B63;&#x786E;&#x7684;&#x4E1C;&#x897F;(&#x7B2C;7&#x9879;:&#x5F53;&#x53EF;&#x80FD;&#x7F3A;&#x5C11;&#x7ED3;&#x679C;&#x65F6;&#xFF0C;&#x9996;&#x9009;null&#x6216;&#x5BC6;&#x5C01;&#x7684;&#x7ED3;&#x679C;&#x7C7B;&#x7ED3;&#x679C;)&#x3002;&#x7136;&#x800C;&#xFF0C;<strong>&#x663E;&#x5F0F;&#x9519;&#x8BEF;&#x6BD4;&#x4E00;&#x822C;&#x7684;NPE&#x66F4;&#x80FD;&#x8BF4;&#x660E;&#x95EE;&#x9898;&#xFF0C;&#x56E0;&#x6B64;&#x5E94;&#x8BE5;&#x603B;&#x662F;&#x9996;&#x9009;</strong>&#x3002;</p>
<p>Rare cases where not-null assertion <code>!!</code> does make sense are mainly a result of common interoperability with libraries in which nullability is not expressed correctly. When you interact with an API properly designed for Kotlin, this shouldn&#x2019;t be a norm.
&#x5728;&#x7F55;&#x89C1;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x975E;&#x7A7A;&#x65AD;&#x8A00;&apos; !!&#x2019;&#x786E;&#x5B9E;&#x6709;&#x610F;&#x4E49;&#xFF0C;&#x8FD9;&#x4E3B;&#x8981;&#x662F;&#x56E0;&#x4E3A;&#x5728;&#x4E0E;&#x5E93;&#x7684;&#x901A;&#x7528;&#x4E92;&#x64CD;&#x4F5C;&#x6027;&#x4E2D;&#xFF0C;&#x53EF;&#x7A7A;&#x6027;&#x6CA1;&#x6709;&#x6B63;&#x786E;&#x8868;&#x8FBE;&#x3002;&#x5F53;&#x60A8;&#x4E0E;&#x4E00;&#x4E2A;&#x4E3A;Kotlin&#x8BBE;&#x8BA1;&#x7684;API&#x4EA4;&#x4E92;&#x65F6;&#xFF0C;&#x8FD9;&#x4E0D;&#x5E94;&#x8BE5;&#x6210;&#x4E3A;&#x89C4;&#x8303;&#x3002;</p>
<p>In general <strong>we should avoid using the not-null assertion <code>!!</code></strong>. This suggestion is rather widely approved by our community. Many teams have the policy to block it. Some set the Detekt static analyzer to throw an error whenever it is used. I think such an approach is too extreme, but I do agree that it often is a code smell. <strong>Seems like the way this operator looks like is no coincidence. <code>!!</code> seems to be screaming &#x201C;Be careful&#x201D; or &#x201C;There is something wrong here&#x201D;.</strong></p>
<p>&#x901A;&#x5E38;&#xFF0C;<strong>&#x6211;&#x4EEC;&#x5E94;&#x8BE5;&#x907F;&#x514D;&#x4F7F;&#x7528;&#x975E;&#x7A7A;&#x65AD;&#x8A00;&apos; !! &apos;</strong>&#x3002;&#x8FD9;&#x4E2A;&#x5EFA;&#x8BAE;&#x5728;&#x6211;&#x4EEC;&#x793E;&#x533A;&#x5F97;&#x5230;&#x4E86;&#x5E7F;&#x6CDB;&#x7684;&#x8BA4;&#x53EF;&#x3002;&#x8BB8;&#x591A;&#x56E2;&#x961F;&#x90FD;&#x6709;&#x963B;&#x6B62;&#x5B83;&#x7684;&#x653F;&#x7B56;&#x3002;&#x6709;&#x4E9B;&#x4EBA;&#x5C06;Detekt&#x9759;&#x6001;&#x5206;&#x6790;&#x5668;&#x8BBE;&#x7F6E;&#x4E3A;&#x5728;&#x4F7F;&#x7528;&#x65F6;&#x629B;&#x51FA;&#x9519;&#x8BEF;&#x3002;&#x6211;&#x8BA4;&#x4E3A;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x592A;&#x6781;&#x7AEF;&#x4E86;&#xFF0C;&#x4F46;&#x6211;&#x786E;&#x5B9E;&#x540C;&#x610F;&#x5B83;&#x7ECF;&#x5E38;&#x662F;&#x4E00;&#x79CD;&#x4EE3;&#x7801;&#x6C14;&#x5473;&#x3002;<strong>&#x770B;&#x8D77;&#x6765;&#x8FD9;&#x4E2A;&#x64CD;&#x4F5C;&#x7B26;&#x770B;&#x8D77;&#x6765;&#x4E0D;&#x662F;&#x5DE7;&#x5408;&#x3002;&#x201D;!!&#x2019;&#x4F3C;&#x4E4E;&#x5728;&#x5C16;&#x53EB;&#x201C;&#x5C0F;&#x5FC3;&#x201D;&#x6216;&#x201C;&#x8FD9;&#x91CC;&#x6709;&#x95EE;&#x9898;&#x201D;.</strong></p>
<h3 id="avoiding-meaningless-nullability">Avoiding meaningless nullability</h3>
<h3 id="&#x907F;&#x514D;&#x65E0;&#x610F;&#x4E49;&#x7684;&#x53EF;&#x7A7A;&#x6027;">&#x907F;&#x514D;&#x65E0;&#x610F;&#x4E49;&#x7684;&#x53EF;&#x7A7A;&#x6027;</h3>
<p>Nullability is a cost as it needs to be handled properly and we <strong>prefer avoiding nullability when it is not needed.</strong> <code>null</code> might pass an important message, but we should avoid situations where it would seem meaningless to other developers. They would then be tempted to use the unsafe not-null assertion <code>!!</code> or forced to repeat generic safe handling that only clutters the code. We should avoid nullability that does not make sense for a client. The most important ways for that are:</p>
<p>&#x53EF;&#x7A7A;&#x6027;&#x662F;&#x4E00;&#x79CD;&#x4EE3;&#x4EF7;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x9700;&#x8981;&#x6B63;&#x786E;&#x5904;&#x7406;&#xFF0C;&#x6211;&#x4EEC;<strong>&#x503E;&#x5411;&#x4E8E;&#x5728;&#x4E0D;&#x9700;&#x8981;&#x65F6;&#x907F;&#x514D;&#x53EF;&#x7A7A;&#x6027;&#x3002;</strong> &apos; null &apos;&#x53EF;&#x80FD;&#x4F1A;&#x4F20;&#x9012;&#x4E00;&#x4E2A;&#x91CD;&#x8981;&#x7684;&#x6D88;&#x606F;&#xFF0C;&#x4F46;&#x6211;&#x4EEC;&#x5E94;&#x8BE5;&#x907F;&#x514D;&#x5B83;&#x5BF9;&#x5176;&#x4ED6;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x6765;&#x8BF4;&#x4F3C;&#x4E4E;&#x6BEB;&#x65E0;&#x610F;&#x4E49;&#x7684;&#x60C5;&#x51B5;&#x3002;&#x7136;&#x540E;&#xFF0C;&#x4ED6;&#x4EEC;&#x5C31;&#x4F1A;&#x503E;&#x5411;&#x4E8E;&#x4F7F;&#x7528;&#x4E0D;&#x5B89;&#x5168;&#x7684;&#x975E;&#x7A7A;&#x65AD;&#x8A00;&apos; !!&#x2019;&#x6216;&#x8005;&#x88AB;&#x8FEB;&#x91CD;&#x590D;&#x901A;&#x7528;&#x5B89;&#x5168;&#x5904;&#x7406;&#xFF0C;&#x8FD9;&#x53EA;&#x4F1A;&#x4F7F;&#x4EE3;&#x7801;&#x53D8;&#x5F97;&#x6DF7;&#x4E71;&#x3002;&#x6211;&#x4EEC;&#x5E94;&#x8BE5;&#x907F;&#x514D;&#x5BF9;&#x5BA2;&#x6237;&#x673A;&#x6CA1;&#x6709;&#x610F;&#x4E49;&#x7684;&#x53EF;&#x7A7A;&#x6027;&#x3002;&#x6700;&#x91CD;&#x8981;&#x7684;&#x65B9;&#x6CD5;&#x662F;:</p>
<ul>
<li>Classes can provide variants of functions where the result is expected and in which lack of value is considered and nullable result or a sealed result class is returned. Simple example is <code>get</code> and <code>getOrNull</code> on <code>List&lt;T&gt;</code>. Those are explained in detail in Item 7: Prefer <code>null</code> or a sealed result class result when the lack of result is possible.</li>
<li><p>&#x7C7B;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x51FD;&#x6570;&#x7684;&#x53D8;&#x4F53;&#xFF0C;&#x5728;&#x8FD9;&#x4E9B;&#x53D8;&#x4F53;&#x4E2D;&#xFF0C;&#x7ED3;&#x679C;&#x662F;&#x9884;&#x671F;&#x7684;&#xFF0C;&#x5E76;&#x4E14;&#x8003;&#x8651;&#x5230;&#x7F3A;&#x5C11;&#x503C;&#xFF0C;&#x8FD4;&#x56DE;&#x53EF;&#x4E3A;&#x7A7A;&#x7684;&#x7ED3;&#x679C;&#x6216;&#x5BC6;&#x5C01;&#x7684;&#x7ED3;&#x679C;&#x7C7B;&#x3002;&#x7B80;&#x5355;&#x7684;&#x4F8B;&#x5B50;&#x662F;&apos; List<t> &apos;&#x4E0A;&#x7684;&apos; get &apos;&#x548C;&apos; getOrNull &apos;&#x3002;&#x8FD9;&#x4E9B;&#x5728;&#x7B2C;7&#x9879;&#x4E2D;&#x6709;&#x8BE6;&#x7EC6;&#x7684;&#x89E3;&#x91CA;:&#x5F53;&#x53EF;&#x80FD;&#x7F3A;&#x5C11;&#x7ED3;&#x679C;&#x65F6;&#xFF0C;&#x9996;&#x9009;&apos; null &apos;&#x6216;&#x5BC6;&#x5C01;&#x7684;&#x7ED3;&#x679C;&#x7C7B;&#x7ED3;&#x679C;&#x3002;</t></p>
</li>
<li><p>Use <code>lateinit</code> property or <code>notNull</code> delegate when a value is surely set before use but later than during class creation.</p>
</li>
<li>&#x4F7F;&#x7528;&apos; lateinit &apos;&#x5C5E;&#x6027;&#x6216;&apos; notNull &apos;&#x59D4;&#x6258;&#x65F6;&#xFF0C;&#x4E00;&#x4E2A;&#x503C;&#x80AF;&#x5B9A;&#x662F;&#x5728;&#x4F7F;&#x7528;&#x4E4B;&#x524D;&#x8BBE;&#x7F6E;&#x7684;&#xFF0C;&#x4F46;&#x665A;&#x4E8E;&#x5728;&#x7C7B;&#x521B;&#x5EFA;&#x671F;&#x95F4;&#x3002;</li>
<li><strong>Do not return <code>null</code> instead of an empty collection.</strong> When we deal with a collection, like <code>List&lt;Int&gt;?</code> or <code>Set&lt;String&gt;?</code>, <code>null</code> has a different meaning than an empty collection. It means that no collection is present. To indicate a lack of elements, use an empty collection. </li>
<li><strong>&#x4E0D;&#x80FD;&#x8FD4;&#x56DE;null&#x800C;&#x4E0D;&#x662F;&#x7A7A;&#x96C6;&#x5408;&#x3002;</strong>&#x5F53;&#x6211;&#x4EEC;&#x5904;&#x7406;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x65F6;&#xFF0C;&#x6BD4;&#x5982;&apos; List<int>?&#x201D;&#x6216;&#x201C;&#x8BBE;&#x7F6E;&lt;&#x5B57;&#x7B26;&#x4E32;&gt; ?&apos;&#xFF0C; &apos; null &apos;&#x7684;&#x542B;&#x4E49;&#x4E0E;&#x7A7A;&#x96C6;&#x5408;&#x4E0D;&#x540C;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x6CA1;&#x6709;&#x96C6;&#x5408;&#x3002;&#x82E5;&#x8981;&#x8868;&#x793A;&#x7F3A;&#x5C11;&#x5143;&#x7D20;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;&#x7A7A;&#x96C6;&#x5408;&#x3002;</int></li>
<li>Nullable enum and <code>None</code> enum value are two different messages. <code>null</code> is a special message that needs to be handled separately, but it is not present in the enum definition and so it can be added to any use-side you want.</li>
<li>Nullable enum&#x548C;&apos; None &apos; enum&#x503C;&#x662F;&#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x6D88;&#x606F;&#x3002;&apos; null &apos;&#x662F;&#x4E00;&#x4E2A;&#x9700;&#x8981;&#x5355;&#x72EC;&#x5904;&#x7406;&#x7684;&#x7279;&#x6B8A;&#x6D88;&#x606F;&#xFF0C;&#x4F46;&#x5B83;&#x6CA1;&#x6709;&#x51FA;&#x73B0;&#x5728;enum&#x5B9A;&#x4E49;&#x4E2D;&#xFF0C;&#x6240;&#x4EE5;&#x5B83;&#x53EF;&#x4EE5;&#x6DFB;&#x52A0;&#x5230;&#x4EFB;&#x4F55;&#x4F60;&#x60F3;&#x8981;&#x7684;&#x4F7F;&#x7528;&#x7AEF;&#x3002;</li>
</ul>
<p>Let&#x2019;s talk about <code>lateinit</code> property and <code>notNull</code> delegate as they deserve a deeper explanation. 
&#x8BA9;&#x6211;&#x4EEC;&#x8C08;&#x8C08;&apos; lateinit &apos;&#x5C5E;&#x6027;&#x548C;&apos; notNull &apos;&#x59D4;&#x6258;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4EEC;&#x503C;&#x5F97;&#x66F4;&#x6DF1;&#x5165;&#x7684;&#x89E3;&#x91CA;&#x3002;</p>
<h3 id="lateinit-property-and-notnull-delegate"><code>lateinit</code> property and <code>notNull</code> delegate</h3>
<h3 id="lateinit-&#x5C5E;&#x6027;&#x548C;-notnull-&#x59D4;&#x6258;">&apos; lateinit &apos;&#x5C5E;&#x6027;&#x548C;&apos; notNull &apos;&#x59D4;&#x6258;</h3>
<p>It is not uncommon in projects to have properties that cannot be initialized during class creation, but that will surely be initialized before the first use. A typical example is when the property is set-up in a function called before all others, like in <code>@BeforeEach</code> in JUnit 5:
&#x5728;&#x9879;&#x76EE;&#x4E2D;&#xFF0C;&#x6709;&#x4E00;&#x4E9B;&#x5C5E;&#x6027;&#x4E0D;&#x80FD;&#x5728;&#x7C7B;&#x521B;&#x5EFA;&#x671F;&#x95F4;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x4F46;&#x80AF;&#x5B9A;&#x4F1A;&#x5728;&#x7B2C;&#x4E00;&#x6B21;&#x4F7F;&#x7528;&#x4E4B;&#x524D;&#x521D;&#x59CB;&#x5316;&#x3002;&#x4E00;&#x4E2A;&#x5178;&#x578B;&#x7684;&#x4F8B;&#x5B50;&#x662F;&#xFF0C;&#x5C5E;&#x6027;&#x8BBE;&#x7F6E;&#x5728;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x4E4B;&#x524D;&#xFF0C;&#x5C31;&#x50CF;JUnit 5&#x4E2D;&#x7684;&apos; @BeforeEach &apos;:</p>
<pre><code class="lang-kotlin"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserControllerTest</span> </span>{

    <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-keyword">var</span> dao</span>: UserDao? = <span class="hljs-literal">null</span>
    <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-keyword">var</span> controller</span>: UserController? = <span class="hljs-literal">null</span>

    @BeforeEach
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">init</span><span class="hljs-params">()</span> {</span>
        dao = mockk()
        controller = UserController(dao!!)
    }

    @Test
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">test</span><span class="hljs-params">()</span> {</span>
        controller!!.doSomething()
    }

}
</code></pre>
<p>Casting those properties from nullable to not null whenever we need to use them is highly undesirable. It is also meaningless as we expect that those values are set before tests. The correct solution to this problem is to use <code>lateinit</code> modifier that lets us initialize properties later:</p>
<p>&#x5728;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x8FD9;&#x4E9B;&#x5C5E;&#x6027;&#x65F6;&#xFF0C;&#x5C06;&#x5B83;&#x4EEC;&#x4ECE;&#x53EF;&#x7A7A;&#x8F6C;&#x6362;&#x4E3A;&#x975E;&#x7A7A;&#x662F;&#x975E;&#x5E38;&#x4E0D;&#x53EF;&#x53D6;&#x7684;&#x3002;&#x8FD9;&#x4E5F;&#x662F;&#x6CA1;&#x6709;&#x610F;&#x4E49;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x5728;&#x6D4B;&#x8BD5;&#x4E4B;&#x524D;&#x8BBE;&#x7F6E;&#x8FD9;&#x4E9B;&#x503C;&#x3002;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x7684;&#x6B63;&#x786E;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x662F;&#x4F7F;&#x7528;&apos; lateinit &apos;&#x4FEE;&#x9970;&#x7B26;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x5728;&#x4EE5;&#x540E;&#x521D;&#x59CB;&#x5316;&#x5C5E;&#x6027;:</p>
<pre><code class="lang-kotlin"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserControllerTest</span> </span>{
   <span class="hljs-keyword">private</span> lateinit <span class="hljs-variable"><span class="hljs-keyword">var</span> dao</span>: UserDao
   <span class="hljs-keyword">private</span> lateinit <span class="hljs-variable"><span class="hljs-keyword">var</span> controller</span>: UserController

   @BeforeEach
   <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">init</span><span class="hljs-params">()</span> {</span>
       dao = mockk()
       controller = UserController(dao)
   }

   @Test
   <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">test</span><span class="hljs-params">()</span> {</span>
       controller.doSomething()
   }
}
</code></pre>
<p>The cost of <code>lateinit</code> is that if we are wrong and we try to get value before it is initialized, then an exception will be thrown. Sounds scary but it is actually desired - we should use <code>lateinit</code> only when we are sure that it will be initialized before the first use. If we are wrong, we want to be informed about it. The main differences between <code>lateinit</code> and a nullable are:</p>
<p> lateinit &apos;&#x7684;&#x4EE3;&#x4EF7;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x9519;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x8BD5;&#x56FE;&#x5728;&#x5B83;&#x88AB;&#x521D;&#x59CB;&#x5316;&#x4E4B;&#x524D;&#x83B7;&#x53D6;&#x503C;&#xFF0C;&#x90A3;&#x4E48;&#x5C06;&#x4F1A;&#x629B;&#x51FA;&#x4E00;&#x4E2A;&#x5F02;&#x5E38;&#x3002;&#x542C;&#x8D77;&#x6765;&#x5F88;&#x53EF;&#x6015;&#xFF0C;&#x4F46;&#x5B83;&#x786E;&#x5B9E;&#x662F;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x7684;&#x2014;&#x2014;&#x53EA;&#x6709;&#x5F53;&#x6211;&#x4EEC;&#x786E;&#x5B9A;&#x5B83;&#x4F1A;&#x5728;&#x7B2C;&#x4E00;&#x6B21;&#x4F7F;&#x7528;&#x4E4B;&#x524D;&#x88AB;&#x521D;&#x59CB;&#x5316;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x624D;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;&apos; lateinit &apos;&#x3002;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x9519;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x88AB;&#x544A;&#x77E5;&#x3002;&apos; lateinit &apos;&#x548C;nullable&#x4E4B;&#x95F4;&#x7684;&#x4E3B;&#x8981;&#x533A;&#x522B;&#x662F;:</p>
<ul>
<li>We do not need to &#x201C;unpack&#x201D; property every time to not-nullable</li>
<li>&#x6211;&#x4EEC;&#x4E0D;&#x9700;&#x8981;&#x6BCF;&#x6B21;&#x90FD;&#x5C06;&#x5C5E;&#x6027;&#x201C;unpack&#x201D;&#x4E3A;&#x975E;&#x7A7A;&#x503C;</li>
<li>We can easily make it nullable in the future if we need to use <code>null</code> to indicate something meaningful</li>
<li>&#x5982;&#x679C;&#x5C06;&#x6765;&#x9700;&#x8981;&#x4F7F;&#x7528;&apos; null &apos;&#x6765;&#x8868;&#x793A;&#x4E00;&#x4E9B;&#x6709;&#x610F;&#x4E49;&#x7684;&#x4E1C;&#x897F;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5F88;&#x5BB9;&#x6613;&#x5730;&#x5C06;&#x5B83;&#x8BBE;&#x4E3A;nullable</li>
<li>Once property is initialized, it cannot get back to an uninitialized state</li>
<li>&#x4E00;&#x65E6;&#x5C5E;&#x6027;&#x88AB;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x5B83;&#x5C31;&#x4E0D;&#x80FD;&#x56DE;&#x5230;&#x672A;&#x521D;&#x59CB;&#x5316;&#x7684;&#x72B6;&#x6001;</li>
</ul>
<p><strong><code>lateinit</code> is a good practice when we are sure that a property will be initialized before the first use</strong>. We deal with such a situation mainly when classes have their lifecycle and we set properties in one of the first invoked methods to use it on the later ones. For instance when we set objects in <code>onCreate</code> in an Android <code>Activity</code>, <code>viewDidAppear</code> in an iOS <code>UIViewController</code>, or <code>componentDidMount</code> in a React <code>React.Component</code>.
<strong>&apos; lateinit &apos;&#x662F;&#x4E00;&#x4E2A;&#x5F88;&#x597D;&#x7684;&#x5B9E;&#x8DF5;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x786E;&#x5B9A;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#x5C06;&#x5728;&#x7B2C;&#x4E00;&#x6B21;&#x4F7F;&#x7528;</strong>&#x4E4B;&#x524D;&#x88AB;&#x521D;&#x59CB;&#x5316;&#x3002;&#x6211;&#x4EEC;&#x4E3B;&#x8981;&#x5904;&#x7406;&#x8FD9;&#x6837;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x5F53;&#x7C7B;&#x6709;&#x5B83;&#x4EEC;&#x7684;&#x751F;&#x547D;&#x5468;&#x671F;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x7B2C;&#x4E00;&#x4E2A;&#x8C03;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#x4E2D;&#x8BBE;&#x7F6E;&#x5C5E;&#x6027;&#xFF0C;&#x4EE5;&#x4FBF;&#x5728;&#x540E;&#x9762;&#x7684;&#x65B9;&#x6CD5;&#x4E2D;&#x4F7F;&#x7528;&#x5B83;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x5728;Android &apos; Activity &apos;&#x7684;&apos; onCreate &apos;&#x4E2D;&#x8BBE;&#x7F6E;&#x5BF9;&#x8C61;&#xFF0C;&#x5728;iOS &apos; UIViewController &apos;&#x4E2D;&#x8BBE;&#x7F6E;&apos; viewDidAppear &apos;&#xFF0C;&#x6216;&#x5728;React &apos; React. component &apos;&#x4E2D;&#x8BBE;&#x7F6E;&apos; componentDidMount &apos;&#x3002;</p>
<p>One case in which <code>lateinit</code> cannot be used is when we need to initialize a property with a type that, on JVM, associates to a primitive, like <code>Int</code>, <code>Long</code>, <code>Double</code> or <code>Boolean</code>. For such cases we have to use <code>Delegates.notNull</code> which is slightly slower, but supports those types:
&#x4E0D;&#x80FD;&#x4F7F;&#x7528;&apos; lateinit &apos;&#x7684;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#x662F;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x521D;&#x59CB;&#x5316;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#x65F6;&#xFF0C;&#x8BE5;&#x5C5E;&#x6027;&#x7684;&#x7C7B;&#x578B;&#x5728;JVM&#x4E0A;&#x4E0E;&#x539F;&#x8BED;&#x76F8;&#x5173;&#x8054;&#xFF0C;&#x5982;&apos; Int &apos;&#xFF0C; &apos; Long &apos;&#xFF0C; &apos; Double &apos;&#x6216;&apos; Boolean &apos;&#x3002;&#x5BF9;&#x4E8E;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x6211;&#x4EEC;&#x5FC5;&#x987B;&#x4F7F;&#x7528;`Delegates.notNull &apos;&#x7A0D;&#x5FAE;&#x6162;&#x4E00;&#x70B9;&#xFF0C;&#x4F46;&#x652F;&#x6301;&#x4EE5;&#x4E0B;&#x7C7B;&#x578B;:</p>
<pre><code class="lang-kotlin"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DoctorActivity</span>: <span class="hljs-type">Activity</span></span>() {
   <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-keyword">var</span> doctorId</span>: <span class="hljs-keyword">Int</span> by Delegates.notNull()
   <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-keyword">var</span> fromNotification</span>: <span class="hljs-keyword">Boolean</span> by 
       Delegates.notNull()

   <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle?</span>)</span> {</span>
       super.onCreate(savedInstanceState)
       doctorId = intent.extras.getInt(DOCTOR_ID_ARG)
       fromNotification = intent.extras
          .getBoolean(FROM_NOTIFICATION_ARG)
   }
}
</code></pre>
<p>These kinds of cases are often replaced with property delegates, like in the above example where we read the argument in <code>onCreate</code>, we could instead use a delegate that initializes those properties lazily:
&#x8FD9;&#x7C7B;&#x60C5;&#x51B5;&#x901A;&#x5E38;&#x88AB;&#x5C5E;&#x6027;&#x59D4;&#x6258;&#x6240;&#x66FF;&#x4EE3;&#xFF0C;&#x5C31;&#x50CF;&#x5728;&#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&apos; onCreate &apos;&#x4E2D;&#x8BFB;&#x5230;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x59D4;&#x6258;&#x6765;&#x5EF6;&#x8FDF;&#x521D;&#x59CB;&#x5316;&#x8FD9;&#x4E9B;&#x5C5E;&#x6027;:</p>
<pre><code class="lang-kotlin"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DoctorActivity</span>: <span class="hljs-type">Activity</span></span>() {
   <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-keyword">var</span> doctorId</span>: <span class="hljs-keyword">Int</span> by arg(DOCTOR_ID_ARG)
   <span class="hljs-keyword">private</span> <span class="hljs-variable"><span class="hljs-keyword">var</span> fromNotification</span>: <span class="hljs-keyword">Boolean</span> by 
       arg(FROM_NOTIFICATION_ARG)
}
</code></pre>
<p>The property delegation pattern is described in detail in Item 21: Use property delegation to extract common property patterns. One reason why they are so popular is that they help us safely avoid nullability.
&#x5728;&#x9879;&#x76EE;21:&#x4F7F;&#x7528;&#x5C5E;&#x6027;&#x59D4;&#x6258;&#x63D0;&#x53D6;&#x516C;&#x5171;&#x5C5E;&#x6027;&#x6A21;&#x5F0F;&#x4E2D;&#x8BE6;&#x7EC6;&#x63CF;&#x8FF0;&#x4E86;&#x5C5E;&#x6027;&#x59D4;&#x6258;&#x6A21;&#x5F0F;&#x3002;&#x5B83;&#x4EEC;&#x5982;&#x6B64;&#x53D7;&#x6B22;&#x8FCE;&#x7684;&#x4E00;&#x4E2A;&#x539F;&#x56E0;&#x662F;&#xFF0C;&#x5B83;&#x4EEC;&#x5E2E;&#x52A9;&#x6211;&#x4EEC;&#x5B89;&#x5168;&#x5730;&#x907F;&#x514D;&#x4E3A;&#x7A7A;&#x6027;&#x3002;</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Item 7 Prefer null or Failure result when the lack of result is possible.html" class="navigation navigation-prev " aria-label="Previous page: Item 7 Prefer Null Or Failure Result When The Lack Of Result Is Possible">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Item 9 Close resources with use.html" class="navigation navigation-next " aria-label="Next page: Item 9 Close Resources With Use">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Item 8 Handle Nulls Properly","level":"1.2.1.9","depth":3,"next":{"title":"Item 9 Close Resources With Use","level":"1.2.1.10","depth":3,"path":"Part 1 Good code/Chapter 1 Safety/Item 9 Close resources with use.md","ref":"Part 1 Good code/Chapter 1 Safety/Item 9 Close resources with use.md","articles":[]},"previous":{"title":"Item 7 Prefer Null Or Failure Result When The Lack Of Result Is Possible","level":"1.2.1.8","depth":3,"path":"Part 1 Good code/Chapter 1 Safety/Item 7 Prefer null or Failure result when the lack of result is possible.md","ref":"Part 1 Good code/Chapter 1 Safety/Item 7 Prefer null or Failure result when the lack of result is possible.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"Part 1 Good code/Chapter 1 Safety/Item 8 Handle nulls properly.md","mtime":"2022-07-31T13:38:59.636Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2022-07-31T13:39:42.832Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

